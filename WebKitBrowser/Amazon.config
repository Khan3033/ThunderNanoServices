set (autostart false)

set(preconditions Graphics Internet)

map()
    kv(outofprocess true)
    if(PLUGIN_AMAZON_USER)
        kv(user ${PLUGIN_AMAZON_USER})
    endif()
    if(PLUGIN_AMAZON_GROUP)
        kv(group ${PLUGIN_AMAZON_GROUP})
    endif()
end()
ans(rootobject)

map()
    kv(url "https://atv-ext.amazon.com/blast-app-hosting/html5/index.html?deviceTypeID=A1MUA6W2THLJUF&stage=prod&deviceID=5819f8a83feb&canCacheInitJs=false")
    kv(useragent ${PLUGIN_AMAZON_USERAGENT})
    kv(injectedbundle "libWPEInjectedBundle${CMAKE_SHARED_LIBRARY_SUFFIX}")
    kv(transparent ${PLUGIN_AMAZON_TRANSPARENT})
    kv(compositor "noaa")
    kv(inspector "0.0.0.0:9999")
    kv(fps true)
    kv(cursor false)
    kv(touch false)
    kv(msebuffers "audio:2m,video:15m,text:1m")
    kv(memoryprofile ${PLUGIN_WEBKITBROWSER_MEMORYPROFILE})
    kv(memorypressure ${PLUGIN_WEBKITBROWSER_MEMORYPRESSURE})
    kv(mediadiskcache ${PLUGIN_WEBKITBROWSER_MEDIADISKCACHE})
    kv(diskcache ${PLUGIN_WEBKITBROWSER_DISKCACHE})
    kv(xhrcache ${PLUGIN_WEBKITBROWSER_XHRCACHE})
    kv(webgl false)
    kv(windowclose true)
    kv(threadedpainting ${PLUGIN_WEBKITBROWSER_THREADEDPAINTING})
    if(PLUGIN_WEBKITBROWSER_CLIENTIDENTIFIER)
        kv(clientidentifier ${PLUGIN_WEBKITBROWSER_CLIENTIDENTIFIER})
    endif()
    if(PLUGIN_WEBKITBROWSER_LOCALSTORAGE)
        kv(localstorage ${PLUGIN_WEBKITBROWSER_LOCALSTORAGE})
    endif()
    if(PLUGIN_WEBKITBROWSER_COOKIESTORAGE)
        kv(cookiestorage ${PLUGIN_WEBKITBROWSER_COOKIESTORAGE})
    endif()
    if(PLUGIN_WEBKITBROWSER_PSTOFFSET)
        kv(ptsoffset ${PLUGIN_WEBKITBROWSER_PSTOFFSET})
    endif()
end()
ans(configuration)

map_append(${configuration} root ${rootobject})
